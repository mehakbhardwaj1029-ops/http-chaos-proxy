What happens if you hit 8080 
curl http://localhost:1234/hello

You (client) ──► Gate (proxy) ──► Building (upstream)
The proxy controls traffic

1. Client sends request to Chaos Proxy on  port 1234

2. ChaosProxyServer receives it:

    server.createContext("/", exchange -> {
   upstreamClient.forward(exchange);
   });


3. UpstreamClient forwards request:

   Builds new request to UpstreamServer on 9090 :http://localhost:9090/hello
4. UpstreamServer handles request:

    Runs business logic

    Returns response

    Chaos Proxy returns response to client

*  Client thinks it talked to the real server
*  Upstream never knows it was proxied
*  Proxy sits in the middle



The proxy now can:

* delay requests
* drop them
* return fake errors
* corrupt responses

Without interacting with client and server.

`examples of some chaos tool - Envoy, Istio, Chaos Mesh.
`

#Note - You might get this exception when you try to access chaos proxy port -

`java.lang.IllegalArgumentException: restricted header name: "Connection"
`

This means:

You are forwarding illegal header i.e; "connection" from HttpExchange to HttpClient, and one of them is:


⚠ Java’s HttpClient explicitly forbids setting certain “hop-by-hop” headers, including:

* Connection
* Host
* Content-Length
* Transfer-Encoding
* Upgrade
* Expect

So when you client and proxy exchange all headers , java throws an exception.

#NOTE

HTTP proxies must NOT forward hop-by-hop headers.
These headers are only meaningful between two direct connections, not end-to-end and ours are 2 separate connections.

#Fix to this would be:

`You must filter restricted headers before forwarding.
`
ex - these headers should never get forwarded between different connections

`private static final Set<String> HOP_BY_HOP_HEADERS = Set.of(
"connection",
"host",
"content-length",
"transfer-encoding",
"expect",
"upgrade"
);`

